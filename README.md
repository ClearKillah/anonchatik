# Anonchatik - Анонимный чат для Telegram

Анонимный чат для общения с незнакомцами прямо в Telegram. Приложение разработано как Telegram Mini App и позволяет пользователям находить случайных собеседников для анонимного общения.

## Особенности

- Анонимный чат с случайными собеседниками
- Интеграция с Telegram Mini App
- Современный интерфейс в стиле Telegram
- Возможность пропуска собеседника
- Автоматический поиск нового собеседника
- Адаптивный дизайн для мобильных устройств

## Технологии

- **Frontend**: React, Styled Components
- **Backend**: Node.js, Express
- **Realtime**: Socket.IO
- **Deployment**: Railway

## Установка и запуск

### Локальная разработка

1. Клонируйте репозиторий:
   ```
   git clone https://github.com/yourusername/anonchatik.git
   cd anonchatik
   ```

2. Установите зависимости для серверной части:
   ```
   npm install
   ```

3. Установите зависимости для клиентской части:
   ```
   cd react-client
   npm install
   cd ..
   ```

4. Запустите приложение в режиме разработки:
   ```
   npm run dev
   ```

5. Откройте [http://localhost:3000](http://localhost:3000) в браузере.

### Деплой на Railway

1. Создайте новый проект на [Railway](https://railway.app/)

2. Подключите ваш GitHub репозиторий

3. Railway автоматически определит конфигурацию и запустит приложение

## Структура проекта

```
anonchatik/
├── react-client/           # React приложение
│   ├── public/             # Публичные файлы
│   └── src/                # Исходный код React
│       ├── components/     # React компоненты
│       └── hooks/          # React хуки
├── server.js               # Серверная часть приложения
├── package.json            # Зависимости проекта
└── railway.json            # Конфигурация для Railway
```

## Лицензия

ISC

## Возможности

- Анонимный поиск собеседников
- Общение через интерфейс Telegram Mini App
- Возможность пропустить текущего собеседника и найти нового
- Настройка на стороне сервера

## База данных

Проект использует SQLite для хранения данных. В продакшн-окружении база данных хранится в файле `data/production.sqlite`.

### Модели данных

- **User** - информация о пользователях
  - `telegramId` - ID пользователя в Telegram
  - `sessionId` - ID сессии пользователя
  - `username` - имя пользователя в Telegram
  - `firstName` - имя пользователя
  - `lastName` - фамилия пользователя
  - `lastActive` - время последней активности

- **ChatSession** - информация о чат-сессиях
  - `userId` - ID пользователя
  - `partnerId` - ID собеседника
  - `startTime` - время начала чата
  - `endTime` - время окончания чата
  - `skipped` - флаг, был ли пропущен собеседник

## Структура проекта

```
anonchatik/
├── data/                 # Директория для хранения базы данных SQLite
├── src/
│   ├── config/           # Конфигурационные файлы
│   │   ├── socket.js     # Настройка Socket.IO
│   │   └── bot.js        # Настройка Telegram бота
│   ├── controllers/      # Контроллеры для обработки запросов
│   │   ├── api.controller.js
│   │   └── chat.controller.js
│   ├── database/         # Настройка базы данных
│   │   └── index.js      # Инициализация Sequelize
│   ├── models/           # Модели данных
│   │   └── User.js       # Модель пользователя и чат-сессии
│   ├── routes/           # Маршруты API
│   │   └── api.routes.js
│   └── index.js          # Основной файл приложения
├── webapp/               # Фронтенд для Telegram Mini App
│   ├── css/
│   ├── js/
│   └── index.html
├── .env                  # Переменные окружения (не включать в репозиторий)
├── .env.example          # Пример файла переменных окружения
├── .gitignore            # Файлы, исключаемые из Git
├── package.json          # Зависимости и скрипты
├── Procfile              # Инструкции для Railway
├── railway.json          # Конфигурация Railway
└── README.md             # Документация проекта
```

## Лицензия

MIT

## Авторы

- Ваше имя или команда 